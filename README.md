# Eventful Restaurant :fork_and_knife:
Here contains an example of a restaurant table service modelled using an event-driven architecture.
In this basic example we do not utilise the events to calculate state, we merely utilise the power of events to
decouple components within the architecture.

In essence we have three [actors](./src/main/java/restaurant/actors): Restaurant, Table and Waiter.

Each of these can generate [events](./src/main/java/restaurant/events), whilst also responding to events generated by
each other.

## An example
We can create a [restaurant](./src/main/java/restaurant/actors/Restaurant.java), and request that someone delivers food
to a specific [table](./src/main/java/restaurant/actors/Table.java):
```java
Restaurant restaurant = new Restaurant(new EventStore(), new Console());
restaurant.deliverTo(new Table(eventStore, "Horrible Customer"));
```

Now a [waiter](./src/main/java/restaurant/actors/Waiter.java) can listen to this event, and respond accordingly:
```java
public class Waiter {

    private EventStore eventStore;
    private Console console;

    public Waiter(EventStore eventStore, Console console) {
        eventStore.listenFor(EventType.SERVICE_REQUESTED, e -> {
            ServiceRequested event = (ServiceRequested) e;
            String description = event.table().description();
            console.println("I hate that customer at " + description + "!!!");
        });
        ...
    }

   ...
}
```

For an example of everything working together, take a look at the [application](./src/main/java/restaurant/App.java)
and the [tests](./src/test/java/RestaurantShould.java).